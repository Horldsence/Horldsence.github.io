---

---

<div
    class="mt-16 pt-8 border-t-4 border-retro-dark/10 dark:border-retro-beige/10"
>
    <h3 class="text-2xl font-bold mb-8 text-center uppercase tracking-widest">
        <span
            class="bg-retro-dark text-retro-beige px-2 dark:bg-retro-beige dark:text-retro-dark"
            >User_Comments</span
        >
    </h3>

    <div class="giscus-container pixel-card bg-white/50 dark:bg-black/20">
        <script
            src="https://giscus.app/client.js"
            data-repo="[ENTER_REPO_HERE]"
            data-repo-id="[ENTER_REPO_ID_HERE]"
            data-category="Announcements"
            data-category-id="[ENTER_CATEGORY_ID_HERE]"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="light"
            data-lang="en"
            crossorigin="anonymous"
            async></script>
    </div>

    <p
        class="text-center text-sm mt-4 text-retro-dark/50 dark:text-retro-beige/50"
    >
        * Comments powered by GitHub Discussions via Giscus
    </p>
</div>

<script>
    function updateGiscusTheme() {
        const theme = document.documentElement.classList.contains("dark")
            ? "dark"
            : "light";
        const iframe = document.querySelector(
            "iframe.giscus-frame",
        ) as HTMLIFrameElement;
        if (!iframe || !iframe.contentWindow) return;
        iframe.contentWindow.postMessage(
            { giscus: { setConfig: { theme: theme } } },
            "https://giscus.app",
        );
    }

    // Observer for class changes on html element
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (
                mutation.type === "attributes" &&
                mutation.attributeName === "class"
            ) {
                updateGiscusTheme();
            }
        });
    });

    observer.observe(document.documentElement, { attributes: true });

    // Initial check after iframe loads
    const iframe = document.querySelector("iframe.giscus-frame");
    if (iframe) {
        iframe.addEventListener("load", updateGiscusTheme);
    }
</script>
