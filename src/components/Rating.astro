---
interface Props {
    rating: number;
}

const { rating } = Astro.props;
const fullStars = Math.floor(rating);
const hasHalfStar = rating % 1 >= 0.5;
const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
---

<div class="flex gap-1 items-center" title={`Rating: ${rating}/5`}>
    {
        Array.from({ length: fullStars }).map(() => (
            <div class="w-3 h-3 bg-retro-dark dark:bg-retro-beige border border-retro-dark dark:border-retro-beige transition-colors" />
        ))
    }
    {
        hasHalfStar && (
            <div class="w-3 h-3 relative border border-retro-dark dark:border-retro-beige transition-colors">
                <div class="absolute left-0 top-0 w-1.5 h-full bg-retro-dark dark:bg-retro-beige transition-colors" />
            </div>
        )
    }
    {
        Array.from({ length: emptyStars }).map(() => (
            <div class="w-3 h-3 border border-retro-dark dark:border-retro-beige transition-colors" />
        ))
    }
</div>
